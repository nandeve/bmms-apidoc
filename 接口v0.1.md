# 接口文档 v0.1

## 用户角色说明

系统中共有两种用户：管理员用户，普通用户

`isAdmin`字段为`1`表示管理员用户，`0`表示普通用户

## 请求数据说明

- 必选的请求数据表示用户必须填写，发起请求时都需校验
- 非必选的请求数据表示用户可以不填写，有默认值的需前端手动设置默认值
- 请求数据一般存放在2处
  1. 在URL路径中
  2. 在请求体body中

## 返回数据说明

返回数据统一格式如下

| 返回参数 | 说明   | 类型   | 备注                                                |
| :------- | ------ | :----- | :-------------------------------------------------- |
| code     | 状态码 | int    | 200表示成功，msg为success，其他状态码则表示请求失败 |
| msg      | 消息   | string | 请求失败时需要消息提示                              |
| data     | 数据   | json   | 实际需要在页面上渲染的数据                          |

请求成功返回数据示例

> 对于不需要返回数据的请求，都会返回此格式

```json
{
    "code": 200,
    "msg": "success",
    "data": null
}
```

若浏览器内部发生了异常，则会统一返回如下数据

```json
{
    "code": 99999,
    "msg": "服务器故障，请稍后重试",
    "data": null
}
```

## 返回cookie说明

- 登录成功后会返回如下cookie信息，浏览器在cookie有效期内会自动保存这些数据，每次发起请求都会携带这些数据
- 登出之后所有cookie的值都会被清空
- 前端在发起需要登录才能访问的接口时需要判断是否已登录
- 在发起需要管理员权限才能访问的接口时需要判断是否是管理员

| cookie参数 | 说明           | 类型   | 备注                                      |
| :--------- | -------------- | :----- | :---------------------------------------- |
| isLogin    | 是否登录       | int    | 1表示当前处于登录状态，没有值则表示已登出 |
| userId     | 用户id         | string |                                           |
| account    | 用户账号       | string |                                           |
| username   | 用户名         | string |                                           |
| isAdmin    | 是否管理员用户 | int    | 1表示管理员用户，0表示普通用户            |
| token      | 请求令牌       | string | 加密令牌                                  |

## 前端原型草稿

登录页

![image-20220207170930314](https://gitee.com/BIT_Worker/pic-go/raw/master/img/202202071709398.png)

主页

![image-20220207171020801](https://gitee.com/BIT_Worker/pic-go/raw/master/img/202202071710886.png)

图书列表

![image-20220207171102052](https://gitee.com/BIT_Worker/pic-go/raw/master/img/202202071711139.png)

图书分类管理

![image-20220207171125826](https://gitee.com/BIT_Worker/pic-go/raw/master/img/202202071711937.png)

## 1 用户接口

### 1.1 登录

#### 接口说明

**接口功能**

> 用户登录
>
> - 登录成功后会返回cookie，浏览器会自动保存，以后对于该项目的每次请求都会自动携带cookie

**API**

> /user/login

**请求方法**

> POST

**请求参数格式**

> JSON

**请求参数说明**

| 请求参数  | 说明        | 必选 | 类型   | 默认值 | 限制                       | 备注                                |
| :-------- | ----------- | :--- | ------ | :----- | -------------------------- | ----------------------------------- |
| account   | 账号        | 是   | string |        | 长度6~16，仅支持字母或数字 |                                     |
| password  | 密码        | 是   | string |        | 长度6-16，仅支持字母或数字 | 发起请求时，需转换为md5加密32位小写 |
| keep7Days | 7天保持登录 |      | bool   | false  |                            | 为true则保留7天登录状态             |

**返回参数格式**

> JSON

**返回参数说明**

| 返回参数 | 说明   | 类型   | 备注                                                |
| :------- | ------ | :----- | :-------------------------------------------------- |
| code     | 状态码 | int    | 200表示成功，msg为success，其他状态码则表示请求失败 |
| msg      | 消息   | string | 请求失败时需要消息提示                              |
| data     | 数据   | json   |                                                     |

**返回cookie说明**

| cookie参数 | 说明           | 类型   | 备注                                      |
| :--------- | -------------- | :----- | :---------------------------------------- |
| isLogin    | 是否登录       | int    | 1表示当前处于登录状态，没有值则表示已登出 |
| userId     | 用户id         | string |                                           |
| account    | 用户账号       | string |                                           |
| username   | 用户名         | string |                                           |
| isAdmin    | 是否管理员用户 | int    | 1表示管理员用户，0表示普通用户            |
| token      | 请求令牌       | string | 加密令牌                                  |

#### 示例

##### 登录成功

请求地址

> /user/login

**请求参数**

``` json
{
    "account": "1320219000",
    "password": "504ea9b3323755d8bbca6087e8de492a",
    "keep7Days": true
}
```

返回参数

```json
{
    "code": 200,
    "msg": "success",
    "data": null
}
```

返回cookie

![image-20220206231458649](https://gitee.com/BIT_Worker/pic-go/raw/master/img/202202062314769.png)

##### 登录参数不合法

请求地址

> /user/login

请求参数

``` json
{
    "account": "",
    "password": "504ea9b3323755d8bbca6087e8de492a",
    "keep7Days": true
}
```

返回参数

```json
{
    "code": 40001,
    "msg": "登录参数不合法",
    "data": null
}
```

说明

> - 前端在发起请求前，必须要校验用户名和密码是否符合限制条件
> - 后端在收到请求后，也必须要校验用户名和密码是否符合合法

##### 账号或密码错误

请求地址

> /user/login

请求参数

``` json
{
    "account": "132021900",
    "password": "504ea9b3323755d8bbca6087e8de492a",
    "keep7Days": true
}
```

返回参数

```json
{
    "code": 40002,
    "msg": "账号或密码错误",
    "data": null
}
```

### 1.2 登出

#### 接口说明

**接口功能**

> 退出当前用户的登录状态
>
> - 登出成功后cookie会被清空

**API**

> /user/logout

**请求方法**

> GET

**请求参数说明**

> 请求不需要额外携带参数
>
> - 若当前处于登录状态，则会自动携带cookie数据，登出成功后cookie会被清空
> - 若当前未处于登录状态并请求此接口，会返回`99999`服务器异常

**返回参数格式**

> JSON

**返回参数说明**

> - 成功返回200
> - 失败返回99999

#### 示例

##### 登出成功

成功登出后浏览器cookie会被清空

```json
{
    "code": 200,
    "msg": "success",
    "data": null
}
```

##### 登出失败

```json
{
    "code": 99999,
    "msg": "服务器故障，请稍后重试",
    "data": null
}
```

### 1.3 注册

#### 接口说明

**接口功能**

> 用户注册
>
> - 用户成功提交注册信息后，需要管理员审核，审核通过后才可以登录
> - 若管理员审核不通过，则表示注册失败，后续也无法登录

**API**

> /register

**请求方法**

> POST

**请求参数格式**

> JSON

**请求参数说明**

| 请求参数 | 说明   | 必选 | 类型   | 默认值 | 限制                                 | 备注                                |
| :------- | ------ | :--- | ------ | :----- | ------------------------------------ | ----------------------------------- |
| account  | 账号   | 是   | string |        | 长度6~16，仅支持字母或数字           |                                     |
| username | 用户名 | 是   | string |        | 长度6~16，支持中文、字母、数字、符号 | 不要使用表情符号                    |
| password | 密码   | 是   | string |        | 长度6-16，仅支持字母或数字           | 发起请求时，需转换为md5加密32位小写 |
| isAdmin  | 管理员 |      | int    | 0      | 为0或1                               | 0表示普通用户，1表示管理员用户      |

**返回参数格式**

> JSON

**返回参数说明**

> 返回200表示提交注册信息成功

```json
{
    "code": 200,
    "msg": "success",
    "data": null
}
```

#### 示例

##### 申请注册成功

##### 申请注册失败

## 2 图书管理接口

### 2.1 查询图书

#### 接口说明

**接口功能**

> 分页按条件查询所有图书
>
> - 该接口必须携带分页数据，条件可为空
>
> - 分页使用mybatis-plus分页插件，直接将查询结果赋值给Result对象的data属性返回即可，返回的数据中包含了前端需要的数据以及一些不需要的数据，全部直接返回即可
> - 分页查询时按name字段升序排序（order by name asc），name字段在数据库中使用的字符集为gbk中文字符，升序会按照先英文后中文按拼音顺序升序排列
> - 若当前页数大于总页数，则返回最后一页的数据
> - 按条件查询共有5个条件，具体看下面请求参数说明
> - 查询匹配条件时使用mybatis-plus的LambdaQueryWrapper，使用模糊查询（like）即可，如果某个查询条件为空则不需要添加此条件

**API**

> /book/:curPage/:pageSize?name=&description=&location=&category=&organization=

**请求方法**

> GET

**请求参数格式**

> URL路径变量
>
> - `:curPage`和`:pageSize`使用数字替换
> - `name`、`description`、`location`、`category`、`organization`如果没有输入条件则等号后面为空，如果输入了查询条件则拼接在每个条件的等号后

**请求参数说明**

| 请求参数     | 说明           | 必选 | 类型   | 默认值 | 限制 | 备注 |
| :----------- | -------------- | :--- | ------ | :----- | ---- | ---- |
| curPage      | 当前页数       | 是   | int    | 1      | > 0  |      |
| pageSize     | 每页的数据条数 | 是   | int    | 5      |      |      |
| name         | 名称           |      | string |        |      |      |
| description  | 描述           |      | string |        |      |      |
| location     | 位置           |      | string |        |      |      |
| category     | 分类           |      | string |        |      |      |
| organization | 组织           |      | string |        |      |      |

**返回参数格式**

> JSON

**返回参数说明**

| 返回参数 | 说明   | 类型   | 备注                                                |
| :------- | ------ | :----- | :-------------------------------------------------- |
| code     | 状态码 | int    | 200表示成功，msg为success，其他状态码则表示请求失败 |
| msg      | 消息   | string | 请求失败时需要消息提示                              |
| data     | 数据   | json   | 数据，一个json对象                                  |

**data数据说明**

| 参数    | 说明                   | 类型 | 备注     |
| :------ | ---------------------- | :--- | :------- |
| total   | 查询到的全部数据的条数 | int  |          |
| size    | 每页的数据条数         | int  |          |
| current | 当前的页数             | int  |          |
| pages   | 查询到的全部数据的页数 | int  |          |
| records | 当前页的数据           | json | json数组 |

**records数据说明**

| 参数         | 说明           | 类型   | 备注 |
| :----------- | -------------- | :----- | :--- |
| id           | 图书id         | int    |      |
| name         | 名称           | string |      |
| number       | 总数量         | int    |      |
| stockNum     | 当前库存的数量 | int    |      |
| description  | 描述           | string |      |
| imageUrl     | 图片链接       | string |      |
| location     | 位置           | string |      |
| category     | 分类           | string |      |
| organization | 组织           | string |      |

#### 接口示例

##### 无条件分页查询所有图书第1页

请求地址

> /book/1/5?name=&description=&location=&category=&organization=

返回数据

```json
{
    "code": 200,
    "msg": "success",
    "data": {
        "total": 6,
        "size": 5,
        "current": 1,
        "pages": 2,
        "records": [
            {
                "id": 1,
                "name": "C语言程序设计",
                "number": 3,
                "stockNum": 3,
                "description": "谭浩强出品",
                "imageUrl": "https://www.kfzimg.com/sw/kfz-cos/kfzimg/9099800/1aa13aac43be0394_n.jpg",
                "location": "一层",
                "category": "计算机",
                "organization": "北京书院"
            },
            {
                "id": 2,
                "name": "高等数学",
                "number": 2,
                "stockNum": 0,
                "description": "同济大学出版",
                "imageUrl": "https://www.kfzimg.com/sw/kfz-cos/kfzimg/12432791/4151accc2db4b093_n.jpg",
                "location": "二层",
                "category": "数学",
                "organization": "北京书院"
            },
            {
                "id": 3,
                "name": "大学物理",
                "number": 4,
                "stockNum": 3,
                "description": "北理工教学专用",
                "imageUrl": "https://www.kfzimg.com/sw/kfz-cos/kfzimg/6743940/49b582d424419c1f_n.jpg",
                "location": "三层",
                "category": "物理",
                "organization": "北京书院学生会"
            },
            {
                "id": 4,
                "name": "C++ Prime Plus",
                "number": 5,
                "stockNum": 2,
                "description": "c++从入门到入土",
                "imageUrl": "https://www.kfzimg.com/sw/kfzimg/1773/015a4ade52edf6cfb3_n.jpg",
                "location": "一层",
                "category": "计算机",
                "organization": "北京书院学生会"
            },
            {
                "id": 5,
                "name": "线性代数",
                "number": 6,
                "stockNum": 6,
                "description": "同济大学出版",
                "imageUrl": "https://www.kfzimg.com/G06/M00/D0/24/p4YBAFqYqJKAWb3GAACFCmcJuCQ703_n.jpg",
                "location": "二层",
                "category": "数学",
                "organization": "北京书院"
            }
        ]
    }
}
```

##### 无条件分页查询所有图书第2页

> 目前只有2页的数据，若查询页数大于总页数则返回最后一页的数据

请求地址

> /book/2/5?name=&description=&location=&category=&organization=

返回数据

```json
{
    "code": 200,
    "msg": "success",
    "data": {
        "total": 6,
        "size": 5,
        "current": 2,
        "pages": 2,
        "records": [
            {
                "id": 6,
                "name": "简明量子力学",
                "number": 4,
                "stockNum": 4,
                "description": "北京大学出版",
                "imageUrl": "https://www.kfzimg.com/sw/kfzimg/1838/016847d79e9ca38fac_n.jpg",
                "location": "三层",
                "category": "物理",
                "organization": "北京书院学生会"
            }
        ]
    }
}
```

##### 按name条件分页查询

> 查询名称中有`学`字的图书，即`name=学`

请求地址

> /book/1/5?name=学&description=&location=&category=&organization=

返回数据

```json
{
    "code": 200,
    "msg": "success",
    "data": {
        "total": 3,
        "size": 5,
        "current": 1,
        "pages": 1,
        "records": [
            {
                "id": 2,
                "name": "高等数学",
                "number": 2,
                "stockNum": 0,
                "description": "同济大学出版",
                "imageUrl": "https://www.kfzimg.com/sw/kfz-cos/kfzimg/12432791/4151accc2db4b093_n.jpg",
                "location": "二层",
                "category": "数学",
                "organization": "北京书院"
            },
            {
                "id": 3,
                "name": "大学物理",
                "number": 4,
                "stockNum": 3,
                "description": "北理工教学专用",
                "imageUrl": "https://www.kfzimg.com/sw/kfz-cos/kfzimg/6743940/49b582d424419c1f_n.jpg",
                "location": "三层",
                "category": "物理",
                "organization": "北京书院学生会"
            },
            {
                "id": 6,
                "name": "简明量子力学",
                "number": 4,
                "stockNum": 4,
                "description": "北京大学出版",
                "imageUrl": "https://www.kfzimg.com/sw/kfzimg/1838/016847d79e9ca38fac_n.jpg",
                "location": "三层",
                "category": "物理",
                "organization": "北京书院学生会"
            }
        ]
    }
}
```

##### 按category添加分页查询

> 查询分类为`计算机`的图书，即`category=计算机`

请求地址

> /book/1/5?name=&description=&location=&category=计算机&organization=

返回数据

```json
{
    "code": 200,
    "msg": "success",
    "data": {
        "total": 2,
        "size": 5,
        "current": 1,
        "pages": 1,
        "records": [
            {
                "id": 1,
                "name": "C语言程序设计",
                "number": 3,
                "stockNum": 3,
                "description": "谭浩强出品",
                "imageUrl": "https://www.kfzimg.com/sw/kfz-cos/kfzimg/9099800/1aa13aac43be0394_n.jpg",
                "location": "一层",
                "category": "计算机",
                "organization": "北京书院"
            },
            {
                "id": 4,
                "name": "C++ Prime Plus",
                "number": 5,
                "stockNum": 2,
                "description": "c++从入门到入土",
                "imageUrl": "https://www.kfzimg.com/sw/kfzimg/1773/015a4ade52edf6cfb3_n.jpg",
                "location": "一层",
                "category": "计算机",
                "organization": "北京书院学生会"
            }
        ]
    }
}
```

### 2.2 更新图书

#### 接口说明

**接口功能**

> 更新某本书的信息

**API**

> /book

**请求方法**

> PUT

**请求参数格式**

> JSON

**请求参数说明**

> 参数在请求体body中

| 请求参数     | 说明     | 必选 | 类型   | 默认值 | 限制 | 备注                             |
| :----------- | -------- | :--- | ------ | :----- | ---- | -------------------------------- |
| id           | 图书id   | 是   | int    |        |      | 该项不可修改                     |
| name         | 名称     | 是   | string |        |      |                                  |
| number       | 总数量   | 是   | int    |        |      |                                  |
| stockNum     | 当前库存 | 是   | int    |        |      |                                  |
| description  | 描述     | 是   | string |        |      |                                  |
| location     | 位置     | 是   | string |        |      |                                  |
| category     | 分类     | 是   | string |        |      | 分类只能选择分类表中已存储的分类 |
| organization | 组织     | 是   | string |        |      | 组织只能选择组织表中已存储的组织 |

**返回参数格式**

> JSON

#### 示例

##### 修改图书名称

> 将`线性代数`修改为`线性代数教程`

请求地址

> /book


请求参数

``` json
{
    "id": 5,
    "name": "线性代数教程",
    "number": 6,
    "stockNum": 6,
    "description": "同济大学出版",
    "location": "二层",
    "category": "数学",
    "organization": "北京书院"
}
```

返回参数

```json
{
    "code": 200,
    "msg": "success",
    "data": null
}
```

### 2.3 删除图书

#### 接口说明

**接口功能**

> 删除图书

**API**

> /book/:id

**请求方法**

> DELETE

**请求参数格式**

> URL路径变量

**请求参数说明**

> `id`为需要删除的图书id

**返回参数格式**

> JSON

#### 接口示例

##### 删除id为4的图书

请求地址

> /book/4

返回参数

```json
{
    "code": 200,
    "msg": "success",
    "data": null
}
```

## 3 图书入库接口

## 4 图书借还接口

## 5 图书分类管理接口

### 5.1 分页按条件查询所有分类

#### 接口说明

**接口功能**

> 按条件分页查询所有分类

**API**

> ```
> /bookCategory/:curPage/:pageSize?name=
> ```

**请求方法**

> GET

**请求参数格式**

> URL路径变量

**请求参数说明**

| 请求参数 | 说明           | 必选 | 类型   | 默认值 | 限制 | 备注 |
| :------- | -------------- | :--- | ------ | :----- | ---- | ---- |
| curPage  | 当前页数       | 是   | int    | 1      | > 0  |      |
| pageSize | 每页的数据条数 | 是   | int    | 5      |      |      |
| name     | 分类名称       |      | string |        |      |      |

**返回参数说明**

| 返回参数 | 说明   | 类型   | 备注                                                |
| :------- | ------ | :----- | :-------------------------------------------------- |
| code     | 状态码 | int    | 200表示成功，msg为success，其他状态码则表示请求失败 |
| msg      | 消息   | string | 请求失败时需要消息提示                              |
| data     | 数据   | json   | 数据，一个json对象                                  |

**data数据说明**

| 参数    | 说明                   | 类型 | 备注     |
| :------ | ---------------------- | :--- | :------- |
| total   | 查询到的全部数据的条数 | int  |          |
| size    | 每页的数据条数         | int  |          |
| current | 当前的页数             | int  |          |
| pages   | 查询到的全部数据的页数 | int  |          |
| records | 当前页的数据           | json | json数组 |

**records数据说明**

| 参数 | 说明     | 类型   | 备注 |
| :--- | -------- | :----- | :--- |
| id   | 分类id   | int    |      |
| name | 分类名称 | string |      |

#### 接口示例

##### 无条件分页查询所有分类

请求地址

> /bookCategory/1/5?name=

返回参数

```json
{
    "code": 200,
    "msg": "success",
    "data": {
        "total": 3,
        "size": 5,
        "current": 1,
        "pages": 1,
        "records": [
            {
                "id": 1,
                "name": "计算机"
            },
            {
                "id": 2,
                "name": "数学"
            },
            {
                "id": 3,
                "name": "物理"
            }
        ]
    }
}
```

### 5.2 修改分类

#### 接口说明

**接口功能**

> 修改分类名称

**API**

> /bookCategory

**请求方法**

> PUT

**请求参数格式**

> JSON

**请求参数说明**

| 请求参数 | 说明     | 必选 | 类型   | 默认值 | 限制 | 备注 |
| :------- | -------- | :--- | ------ | :----- | ---- | ---- |
| id       | 分类id   | 是   | int    |        |      |      |
| name     | 分类名称 | 是   | string |        |      |      |

**返回参数格式**

> JSON

#### 接口示例

请求地址

> /bookCategory


请求参数

``` json
{
    "id": "1",
    "name": "计算机编程"
}
```

返回参数

```json
{
    "code": 200,
    "msg": "success",
    "data": null
}
```

### 5.3 添加分类

#### 接口说明

**接口功能**

> 添加图书分类

**API**

> /bookCategory/:name

**请求方法**

> POST

**请求参数格式**

> URL路径变量

**请求参数说明**

| 请求参数 | 说明     | 必选 | 类型   | 默认值 | 限制 | 备注 |
| :------- | -------- | :--- | ------ | :----- | ---- | ---- |
| name     | 分类名称 | 是   | string |        |      |      |

**返回参数格式**

> JSON

#### 接口示例

##### 添加化学分类

> /bookCategory/化学

返回参数

```json
{
    "code": 200,
    "msg": "success",
    "data": null
}
```

### 5.4 删除分类

#### 接口说明

**接口功能**

> 删除一个分类

**API**

> /bookCategory/:id

**请求方法**

> DELETE

**请求参数格式**

> URL路径变量

**请求参数说明**

| 请求参数 | 说明   | 必选 | 类型 | 默认值 | 限制 | 备注 |
| :------- | ------ | :--- | ---- | :----- | ---- | ---- |
| id       | 分类id | 是   | int  |        |      |      |

**返回参数格式**

> JSON

#### 接口示例

##### 删除计算机分类

> /bookCategory/1

返回参数

```json
{
    "code": 200,
    "msg": "success",
    "data": null
}
```

## 6 组织管理接口

### 6.1 分页按条件查询所有组织

#### 接口说明

**接口功能**

> 按条件分页查询所有组织

**API**

> ```
> /organization/:curPage/:pageSize?name=
> ```

**请求方法**

> GET

**请求参数格式**

> URL路径变量

**请求参数说明**

| 请求参数 | 说明           | 必选 | 类型   | 默认值 | 限制 | 备注 |
| :------- | -------------- | :--- | ------ | :----- | ---- | ---- |
| curPage  | 当前页数       | 是   | int    | 1      | > 0  |      |
| pageSize | 每页的数据条数 | 是   | int    | 5      |      |      |
| name     | 组织名称       |      | string |        |      |      |

**返回参数说明**

| 返回参数 | 说明   | 类型   | 备注                                                |
| :------- | ------ | :----- | :-------------------------------------------------- |
| code     | 状态码 | int    | 200表示成功，msg为success，其他状态码则表示请求失败 |
| msg      | 消息   | string | 请求失败时需要消息提示                              |
| data     | 数据   | json   | 数据，一个json对象                                  |

**data数据说明**

| 参数    | 说明                   | 类型 | 备注     |
| :------ | ---------------------- | :--- | :------- |
| total   | 查询到的全部数据的条数 | int  |          |
| size    | 每页的数据条数         | int  |          |
| current | 当前的页数             | int  |          |
| pages   | 查询到的全部数据的页数 | int  |          |
| records | 当前页的数据           | json | json数组 |

**records数据说明**

| 参数 | 说明     | 类型   | 备注 |
| :--- | -------- | :----- | :--- |
| id   | 组织id   | int    |      |
| name | 组织名称 | string |      |

#### 接口示例

##### 无条件分页查询所有组织

请求地址

> /organization/1/5?name=

返回参数

```json
{
    "code": 200,
    "msg": "success",
    "data": {
        "total": 2,
        "size": 5,
        "current": 1,
        "pages": 1,
        "records": [
            {
                "id": 1,
                "name": "北京书院"
            },
            {
                "id": 2,
                "name": "北京书院学生会"
            }
        ]
    }
}
```

### 6.2 修改组织

#### 接口说明

**接口功能**

> 修改组织名称

**API**

> /organization

**请求方法**

> PUT

**请求参数格式**

> JSON

**请求参数说明**

| 请求参数 | 说明     | 必选 | 类型   | 默认值 | 限制 | 备注 |
| :------- | -------- | :--- | ------ | :----- | ---- | ---- |
| id       | 组织id   | 是   | int    |        |      |      |
| name     | 组织名称 | 是   | string |        |      |      |

**返回参数格式**

> JSON

#### 接口示例

请求地址

> /organization


请求参数

``` json
{
    "id": "1",
    "name": "北京书院官方"
}
```

返回参数

```json
{
    "code": 200,
    "msg": "success",
    "data": null
}
```

### 6.3 添加组织

#### 接口说明

**接口功能**

> 添加一个组织

**API**

> /organization/:name

**请求方法**

> POST

**请求参数格式**

> URL路径变量

**请求参数说明**

| 请求参数 | 说明     | 必选 | 类型   | 默认值 | 限制 | 备注 |
| :------- | -------- | :--- | ------ | :----- | ---- | ---- |
| name     | 组织名称 | 是   | string |        |      |      |

**返回参数格式**

> JSON

#### 接口示例

##### 添加体育部组织

> /organization/体育部

返回参数

```json
{
    "code": 200,
    "msg": "success",
    "data": null
}
```

### 6.4 删除组织

#### 接口说明

**接口功能**

> 删除一个组织

**API**

> /organization/:id

**请求方法**

> DELETE

**请求参数格式**

> URL路径变量

**请求参数说明**

| 请求参数 | 说明   | 必选 | 类型 | 默认值 | 限制 | 备注 |
| :------- | ------ | :--- | ---- | :----- | ---- | ---- |
| id       | 组织id | 是   | int  |        |      |      |

**返回参数格式**

> JSON

#### 接口示例

##### 删除北京书院学生会组织

> /organization/2

返回参数

```json
{
    "code": 200,
    "msg": "success",
    "data": null
}
```

## 7 文件上传接口

### 7.1 上传图片

#### 接口说明

**接口功能**

> 上传一张图片

**API**

> /upload

**请求方法**

> POST

**请求参数格式**

> multipart/form-data

**请求参数说明**

| 请求参数 | 说明                         | 必选 | 类型 | 默认值 | 限制                                 | 备注                                                         |
| :------- | ---------------------------- | :--- | ---- | :----- | ------------------------------------ | ------------------------------------------------------------ |
| image    | 上传图片标识的key统一为image | 是   | file |        | <=10MB，格式只能为`jpg/jpeg/png/gif` | 标识图片的key为`image`，不是图片的名称为`image`（参考示例图片） |

**返回参数格式**

> JSON

**返回参数说明**

| 返回参数 | 说明   | 类型   | 备注                                                |
| :------- | ------ | :----- | :-------------------------------------------------- |
| code     | 状态码 | int    | 200表示成功，msg为success，其他状态码则表示请求失败 |
| msg      | 消息   | string | 请求失败时需要消息提示                              |
| data     | 数据   | json   | 图片的url链接                                       |

#### 接口示例

请求地址

> /upload


请求参数

![image-20220207161656343](https://gitee.com/BIT_Worker/pic-go/raw/master/img/202202071618194.png)

返回参数

```json
{
    "code": 200,
    "msg": "success",
    "data": "http://localhost:8080/63ee881b-1e59-4fee-9642-61f83f275191.png"
}
```

## 8 数据统计接口
